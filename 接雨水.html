<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>接雨水</title>
</head>
<body>
<script type="text/javascript">
    var str = '0,1,0,2,1,0,1,3,2,1,2,1';
    var arr=str.split(',')
    var num=trap(arr)
    console.log(num)
    function trap (height) {
        let left = 0, right = height.length - 1
        let count = 0
        let leftMax = 0, rightMax = 0
        while (left <= right) {
            leftMax = Math.max(leftMax, height[left])
            rightMax = Math.max(rightMax, height[right])
            if (leftMax < rightMax) {
                count += leftMax - height[left]
                left++
            } else {
                count += rightMax - height[right]
                right--
            }
        }
        return count

    };
</script>
</body>
</html>
